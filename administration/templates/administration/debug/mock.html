{% extends "administration/debug/base_debug.html" %}

{% block debug_title %}Mock 数据生成{% endblock %}

{% block debug_content %}
<div class="card bg-base-100 shadow-sm border border-base-200">
    <div class="card-body">
        <h2 class="card-title mb-4 flex items-center gap-2">
            <span class="material-symbols-outlined text-primary">science</span>
            高级 Mock 数据生成器
        </h2>
        <p class="text-sm text-base-content/70 mb-6">使用 Faker 库生成高度逼真的测试数据。支持关联关系生成，请按顺序操作以保证数据完整性。</p>
        
        <form method="post" class="space-y-8">
            {% csrf_token %}
            <input type="hidden" name="action" value="generate_mock">
            
            <!-- Users -->
            <div class="collapse collapse-arrow bg-base-200/50 border border-base-200">
                <input type="radio" name="mock_section" checked="checked" /> 
                <div class="collapse-title text-xl font-medium flex items-center gap-2">
                    <span class="material-symbols-outlined text-info">group</span> 用户数据
                </div>
                <div class="collapse-content"> 
                    <div class="form-control w-full max-w-xs">
                        <label class="label"><span class="label-text">生成数量</span></label>
                        <input type="number" name="users_count" value="10" min="0" max="100" class="input input-bordered">
                    </div>
                    <div class="form-control mt-4">
                        <label class="label cursor-pointer justify-start gap-4">
                            <span class="label-text">包含头像 (使用 UI Avatars)</span> 
                            <input type="checkbox" name="users_avatar" checked class="checkbox checkbox-primary" />
                        </label>
                    </div>
                </div>
            </div>

            <!-- Content -->
            <div class="collapse collapse-arrow bg-base-200/50 border border-base-200">
                <input type="radio" name="mock_section" /> 
                <div class="collapse-title text-xl font-medium flex items-center gap-2">
                    <span class="material-symbols-outlined text-accent">article</span> 内容数据
                </div>
                <div class="collapse-content grid grid-cols-1 md:grid-cols-3 gap-4"> 
                    <div class="form-control">
                        <label class="label"><span class="label-text">分类数量</span></label>
                        <input type="number" name="categories_count" value="5" min="0" max="20" class="input input-bordered">
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text">标签数量</span></label>
                        <input type="number" name="tags_count" value="10" min="0" max="50" class="input input-bordered">
                    </div>
                    <div class="form-control">
                        <label class="label"><span class="label-text">文章数量</span></label>
                        <input type="number" name="posts_count" value="20" min="0" max="100" class="input input-bordered">
                    </div>
                    <div class="form-control md:col-span-3 mt-2">
                        <label class="label cursor-pointer justify-start gap-4">
                            <span class="label-text">随机分配作者</span> 
                            <input type="checkbox" name="posts_random_author" checked class="checkbox checkbox-primary" />
                        </label>
                    </div>
                </div>
            </div>

            <!-- Interaction -->
            <div class="collapse collapse-arrow bg-base-200/50 border border-base-200">
                <input type="radio" name="mock_section" /> 
                <div class="collapse-title text-xl font-medium flex items-center gap-2">
                    <span class="material-symbols-outlined text-warning">forum</span> 互动数据
                </div>
                <div class="collapse-content"> 
                    <div class="form-control w-full max-w-xs">
                        <label class="label"><span class="label-text">每个文章评论数 (最大)</span></label>
                        <input type="number" name="comments_per_post" value="5" min="0" max="20" class="input input-bordered">
                    </div>
                </div>
            </div>

            <div class="flex justify-end gap-4 pt-4 border-t border-base-200">
                <button type="reset" class="btn btn-ghost">重置</button>
                <button type="submit" class="btn btn-primary gap-2" onclick="return confirm('确定要生成数据吗？这将向数据库添加新记录。')">
                    <span class="material-symbols-outlined">play_circle</span>
                    开始生成
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
