{% for page in pages %}
<tr class="hover">
    <th>
        <label>
            <input type="checkbox" name="selected_ids" value="{{ page.id }}" class="checkbox checkbox-xs row-checkbox" onclick="updateBulkToolbar()" />
        </label>
    </th>
    <td>
        <div class="font-bold truncate max-w-xs" title="{{ page.title }}">{{ page.title }}</div>
    </td>
    <td class="font-mono text-sm opacity-70">{{ page.slug }}</td>
    <td>
        <div class="flex flex-col gap-1">
            {% if page.status == 'published' %}
            <div class="badge badge-success badge-sm gap-1">
                <span class="w-1.5 h-1.5 rounded-full bg-base-100"></span>
                已发布
            </div>
            {% else %}
            <div class="badge badge-warning badge-sm gap-1">
                <span class="w-1.5 h-1.5 rounded-full bg-base-100"></span>
                草稿
            </div>
            {% endif %}
        </div>
    </td>
    <td class="text-sm opacity-70">{{ page.created_at|date:"Y-m-d" }}</td>
    <td>
        <div class="join">
            <a href="/{{ page.slug }}/" target="_blank" class="btn btn-ghost btn-xs join-item tooltip tooltip-left" data-tip="查看">
                <span class="material-symbols-outlined text-base">visibility</span>
            </a>
            <a href="{% url 'administration:page_edit' page.pk %}" class="btn btn-ghost btn-xs join-item tooltip tooltip-left" data-tip="编辑">
                <span class="material-symbols-outlined text-base">edit</span>
            </a>
            <form action="{% url 'administration:page_duplicate' page.pk %}" method="post" class="inline" onsubmit="return confirm('确定要复制这个页面吗？');">
                {% csrf_token %}
                <button type="submit" class="btn btn-ghost btn-xs join-item tooltip tooltip-left" data-tip="复制">
                    <span class="material-symbols-outlined text-base">content_copy</span>
                </button>
            </form>
            <button onclick="confirmDelete('{% url 'administration:page_delete' page.pk %}', '确定要删除页面《{{ page.title|escapejs }}》吗？')" class="btn btn-ghost btn-xs join-item text-error tooltip tooltip-left" data-tip="删除">
                <span class="material-symbols-outlined text-base">delete</span>
            </button>
        </div>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="6" class="text-center py-8 text-base-content/50">
        <div class="flex flex-col items-center gap-2">
            <span class="material-symbols-outlined text-4xl opacity-20">description</span>
            <span>暂无页面</span>
        </div>
    </td>
</tr>
{% endfor %}
