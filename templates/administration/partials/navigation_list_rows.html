{% load i18n %}
{% for nav in navigations %}
    <tr class="hover">
        <th class="pl-6">
            <label>
                <input type="checkbox"
                       name="selected_ids"
                       value="{{ nav.pk }}"
                       class="checkbox checkbox-sm rounded-sm row-checkbox"
                       onchange="updateBulkToolbar()" />
            </label>
        </th>
        <td>
            <a href="{% url 'administration:navigation_edit' nav.pk %}"
               class="font-bold hover:text-primary transition-colors block truncate max-w-[200px]"
               title="{{ nav.title }}">{{ nav.title }}</a>
        </td>
        <td class="hidden lg:table-cell">
            <div class="font-mono text-xs opacity-60 truncate max-w-[250px]"
                 title="{{ nav.url }}">{{ nav.url }}</div>
        </td>
        <td class="text-center hidden sm:table-cell whitespace-nowrap">
            <span class="badge badge-ghost badge-sm">{{ nav.get_location_display }}</span>
        </td>
        <td class="text-center hidden md:table-cell font-mono text-sm opacity-60">{{ nav.order }}</td>
        <td class="text-center hidden sm:table-cell whitespace-nowrap">
            <div class="flex justify-center">
                {% if nav.is_active %}
                    <div class="badge badge-success badge-sm gap-1 badge-outline bg-success/5 border-success/30">
                        <span class="w-1.5 h-1.5 rounded-full bg-success"></span>
                        {% trans "可见" %}
                    </div>
                {% else %}
                    <div class="badge badge-ghost badge-sm gap-1 badge-outline opacity-60">
                        <span class="w-1.5 h-1.5 rounded-full bg-base-content/40"></span>
                        {% trans "隐藏" %}
                    </div>
                {% endif %}
            </div>
        </td>
        <td class="text-right pr-6">
            <div class="join">
                <a href="{% url 'administration:navigation_edit' nav.pk %}"
                   class="btn btn-ghost btn-xs join-item tooltip tooltip-left"
                   data-tip="{% trans '编辑' %}">
                    <span class="material-symbols-outlined text-base">edit</span>
                </a>
                <button type="button"
                        hx-post="{% url 'administration:navigation_delete' nav.pk %}"
                        hx-trigger="confirmed"
                        hx-target="closest tr"
                        hx-swap="outerHTML swap:0.5s"
                        onclick="confirmHtmx(this, '{% blocktrans with title=nav.title|escapejs %}确定要删除导航“{{ title }}”吗？{% endblocktrans %}')"
                        class="btn btn-ghost btn-xs join-item text-error tooltip tooltip-left"
                        data-tip="{% trans '删除' %}">
                    <span class="material-symbols-outlined text-base">delete</span>
                </button>
            </div>
        </td>
    </tr>
{% empty %}
    <tr>
        <td colspan="7" class="text-center py-10 text-base-content/40">
            <div class="flex flex-col items-center gap-2">
                <span class="material-symbols-outlined text-4xl opacity-20">menu</span>
                <span>{% trans "暂无导航数据" %}</span>
            </div>
        </td>
    </tr>
{% endfor %}
